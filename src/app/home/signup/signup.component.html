<h4 class="text-center"> Register to embrace a new world!</h4>

<form #form="ngForm" [formGroup]="signupForm" class="form mt-4" (submit)="signup()">
  <div class="form-group mb-3">
    <input #emailInput formControlName="email" placeholder="email" class="form-control" autofocus>
    <ap-vmessage *ngIf="signupForm.get('email').errors?.['required'] && form.submitted" text="Email is required!"></ap-vmessage>
    <ap-vmessage *ngIf="signupForm.get('email').errors?.['email'] && form.submitted" text="Invalid email"></ap-vmessage>
  </div>

  <div class="form-group mb-3">
    <input formControlName="fullName" placeholder="full name" class="form-control">
    <ap-vmessage *ngIf="signupForm.get('fullName').errors?.['required'] && form.submitted"
      text="Full name is required!"></ap-vmessage>
    <ap-vmessage *ngIf="signupForm.get('fullName').errors?.['minlength'] && form.submitted" text="Minimun length is 2"></ap-vmessage>
    <ap-vmessage *ngIf="signupForm.get('fullName').errors?.['maxlength'] && form.submitted" text="Maximun length is 40"></ap-vmessage>
  </div>

  <div class="form-group mb-3">
    <input formControlName="userName" placeholder="user name" class="form-control">
    <ap-vmessage *ngIf="signupForm.get('userName').errors?.['required'] && form.submitted"
      text="User name is required!"></ap-vmessage>
    <ap-vmessage *ngIf="signupForm.get('userName').errors?.['minlength'] && form.submitted" text="Minimun length is 2"></ap-vmessage>
    <ap-vmessage *ngIf="signupForm.get('userName').errors?.['maxlength'] && form.submitted" text="Maximun length is 30"></ap-vmessage>
    <ap-vmessage *ngIf="signupForm.get('userName').errors?.['lowerCase'] && form.submitted" text="Must be lower case"></ap-vmessage>
    <ap-vmessage *ngIf="signupForm.get('userName').errors?.['userNameTaken']" text="Username already taken"></ap-vmessage>
    <small *ngIf="signupForm.get('userName').valid" class="text-success">User available</small>
  </div>

  <div class="form-group mb-3">
    <input formControlName="password" type="password" placeholder="password" class="form-control">
    <ap-vmessage *ngIf="signupForm.get('password').errors?.['required'] && form.submitted" text="Password is required!"></ap-vmessage>
    <ap-vmessage *ngIf="signupForm.get('password').errors?.['minlength'] && form.submitted" text="Minimun length is 8"></ap-vmessage>
    <ap-vmessage *ngIf="signupForm.get('password').errors?.['maxlength'] && form.submitted" text="Maximun length is 14"></ap-vmessage>
  </div>

  <div class="d-grid gap-2">
    <button class="btn btn-primary">Register</button>
  </div>

  <p>Already a user? <a [routerLink]="['']">Sign In!</a></p>
</form>
